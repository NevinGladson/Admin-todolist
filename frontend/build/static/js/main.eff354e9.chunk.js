(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(76),c=a.n(r),i=(a(95),a(41)),o=a(6),l=a(2);const d=Object(s.createContext)(),j=e=>{let{children:t}=e;const[a,n]=Object(s.useState)(null);return Object(l.jsx)(d.Provider,{value:{user:a,setUser:n,emailPasswordLogin:async(e,t)=>{try{const a=await fetch("http://admin-todolist-env.eba-qgfa3w94.us-east-1.elasticbeanstalk.com/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({loginIdentifier:e,password:t}),credentials:"include"});if(!a.ok){const e=await a.json();throw new Error("Login failed: ".concat(e.message||"Unknown error"))}const s=await a.json();return n(s),s}catch(a){throw console.error("Error during login:",a),a}},emailPasswordSignup:async(e,t,a)=>{try{const s=await fetch("http://admin-todolist-env.eba-qgfa3w94.us-east-1.elasticbeanstalk.com/api/users/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,username:a}),credentials:"include"});if(!s.ok){const e=await s.json();throw new Error("Signup failed: ".concat(e.error||"Unknown error"))}const r=await s.json();return n(r),r}catch(s){throw console.error("Error during signup:",s),s}},fetchUser:async()=>{},logOutUser:async()=>{}},children:t})},m=()=>Object(s.useContext)(d);a(97);var b=a(152),u=a(150),h=a(153),x=a(154),O=a(155),g=a(156),p=a(157),f=a(158),w=a(159),v=a(160),y=a(161),k=a.p+"static/media/administrator.c0f8f4b4.png",S=a.p+"static/media/users.2c8a7452.png";function N(){const[e,t]=Object(s.useState)(null),[a,n]=Object(s.useState)(!1),r=e=>{let{tasks:t}=e;return Object(l.jsx)(b.a,{component:u.a,children:Object(l.jsxs)(h.a,{"aria-label":"simple table",children:[Object(l.jsx)(x.a,{children:Object(l.jsxs)(O.a,{children:[Object(l.jsx)(g.a,{children:"Tasks"}),Object(l.jsx)(g.a,{align:"left",children:"Date"}),Object(l.jsx)(g.a,{align:"left",children:"Urgency"}),Object(l.jsx)(g.a,{align:"left",children:"Status"})]})}),Object(l.jsx)(p.a,{children:t.map(((e,t)=>Object(l.jsxs)(O.a,{children:[Object(l.jsx)(g.a,{component:"th",scope:"row",children:e.task}),Object(l.jsx)(g.a,{align:"left",children:new Date(e.date_of_task).toLocaleDateString()}),Object(l.jsx)(g.a,{align:"left",children:e.urgency}),Object(l.jsx)(g.a,{align:"left",children:e.status})]},t)))})]})})},c=s=>{let{src:r,alt:c,viewType:i,label:o}=s;const d=e===i;return Object(l.jsxs)("div",{className:"image-container",children:[Object(l.jsx)("img",{src:r,alt:c,className:"".concat(a?"image-sidebar":"image-center"," ").concat(d?"selected-image":""),onClick:()=>{return e=i,n(!0),void t(e);var e}}),Object(l.jsx)(f.a,{variant:"subtitle1",className:"image-label",children:o})]})},i=()=>{const[e,t]=Object(s.useState)([]),[a,n]=Object(s.useState)(null),[c,i]=Object(s.useState)({});Object(s.useEffect)((()=>{(async()=>{try{const e=await fetch("/api/tasks");if(!e.ok)throw new Error("Failed to fetch");const a=await e.json();t(a)}catch(e){console.error("Error fetching users:",e)}})()}),[]);const o=e=>{a!==e?(n(e),(async e=>{try{const t=await fetch("/api/tasks/".concat(e,"/details"));if(!t.ok)throw new Error("Failed to fetch user details");const a=await t.json();i(a)}catch(t){console.error("Error fetching user details:",t)}})(e)):n(null)};return Object(l.jsxs)("div",{className:"user-list-container",children:[Object(l.jsx)(f.a,{variant:"h6",className:"log-heading",children:"Users Log Information"}),e.map((e=>Object(l.jsxs)(w.a,{className:"user-card log-card",children:[Object(l.jsx)(v.a,{style:{cursor:"pointer"},onClick:()=>o(e.id),children:Object(l.jsx)(f.a,{variant:"h5",component:"div",className:"log-text",children:e.username})}),Object(l.jsx)(y.a,{in:a===e.id,timeout:"auto",unmountOnExit:!0,children:Object(l.jsxs)(v.a,{className:"scrollable-content",children:[Object(l.jsxs)(f.a,{paragraph:!0,className:"log-text",children:["Email: ",c.email]}),c.tasks&&c.tasks.length>0?Object(l.jsx)(r,{tasks:c.tasks}):Object(l.jsx)(f.a,{children:"No tasks available."})]})})]},e.id)))]})},o=()=>{const[e,t]=Object(s.useState)([]),[a,n]=Object(s.useState)(null);return Object(s.useEffect)((()=>{(async()=>{try{const e=await fetch("/api/users/users");if(!e.ok)throw new Error("Failed to fetch");const a=await e.json();t(a)}catch(e){console.error("Error fetching users:",e)}})()}),[]),Object(l.jsxs)("div",{className:"user-list-container",children:[Object(l.jsx)(f.a,{variant:"h6",className:"log-heading",children:"Admin Log Information"}),e.map((e=>Object(l.jsxs)(w.a,{className:"user-card log-card",children:[Object(l.jsxs)(v.a,{onClick:()=>n(a===e._id?null:e._id),style:{cursor:"pointer"},children:[Object(l.jsx)(f.a,{variant:"h5",component:"div",className:"log-text",children:e.username}),Object(l.jsxs)(f.a,{variant:"body2",className:"log-text",children:["Email: ",e.email]})]}),Object(l.jsx)(y.a,{in:a===e._id,timeout:"auto",unmountOnExit:!0,children:Object(l.jsxs)(v.a,{className:"scrollable-content card-content-inner",children:[Object(l.jsxs)(f.a,{paragraph:!0,className:"log-text",children:["Account Creation Date: ",new Date(e.accountCreationDate).toLocaleDateString()]}),Object(l.jsx)("div",{className:"session-info",children:e.sessions.map(((e,t)=>Object(l.jsxs)(f.a,{className:"log-text",children:["Session ID: ",e.sessionId,", Login Time: ",new Date(e.loginTime).toLocaleString()]},t)))})]})})]},e._id)))]})},d=()=>Object(l.jsxs)("nav",{className:"navbar",children:[Object(l.jsx)("div",{className:"navbar-left",children:Object(l.jsx)("a",{href:"http://main-todolist-env.eba-t9v3pdyf.us-east-1.elasticbeanstalk.com/",children:"Main Project"})}),Object(l.jsxs)("div",{className:"navbar-right",children:[Object(l.jsx)("a",{className:"Signup",href:"/Signup",children:"Signup"}),Object(l.jsx)("a",{className:"Logout",href:"/Login",children:"Logout"})]})]});return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"main-page",children:[Object(l.jsx)(d,{}),Object(l.jsx)("div",{className:"sidebar",children:a&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(c,{src:k,alt:"Admin",viewType:"admin"}),Object(l.jsx)(c,{src:S,alt:"Users",viewType:"tasks"})]})}),Object(l.jsx)("div",{style:{textAlign:"center",margin:"20px"},children:!a&&Object(l.jsxs)("div",{className:"parent-container",children:[Object(l.jsx)(c,{src:k,alt:"Admin",viewType:"admin",label:"Administrator"}),Object(l.jsx)(c,{src:S,alt:"Users",viewType:"tasks",label:"Users"})]})}),"admin"===e&&Object(l.jsx)(o,{}),"tasks"===e&&Object(l.jsx)(i,{})]})})}var E=a(148),T=a(149);var C=()=>{const e=Object(o.q)(),t=Object(o.o)(),{user:a,fetchUser:n,emailPasswordLogin:r}=m(),[c,i]=Object(s.useState)({email:"",password:""}),d=e=>{const{name:t,value:a}=e.target;i({...c,[t]:a})},j=()=>{const a=t.search.replace("?redirectTo=","");e(a||"/")};Object(s.useEffect)((()=>{(async()=>{a||await n()&&j()})()}),[]);return Object(l.jsxs)("form",{style:{display:"flex",flexDirection:"column",maxWidth:"300px",margin:"auto"},children:[Object(l.jsx)("h1",{children:"Login"}),Object(l.jsx)(E.a,{label:"Username or Email",type:"email",variant:"outlined",name:"email",value:c.email,onChange:d,style:{marginBottom:"1rem"}}),Object(l.jsx)(E.a,{label:"Password",type:"password",variant:"outlined",name:"password",value:c.password,onChange:d,style:{marginBottom:"1rem"}}),Object(l.jsx)(T.a,{variant:"contained",color:"primary",onClick:async e=>{try{await r(c.email,c.password)&&j()}catch(t){401===t.statusCode?alert("Invalid username/password. Try again!"):alert(t)}},children:"Login"}),Object(l.jsxs)("p",{style:{color:"#d32f2f",fontSize:"0.8rem",marginTop:"20px",textAlign:"center"},children:["*Disclaimer: You can use the following credentials ",Object(l.jsx)("br",{})," username: admin, password=admin. Creating new admins is only allowed post Login"]})]})};var P=()=>{const{user:e}=m(),t=Object(o.o)(),a="/login?redirectTo=".concat(encodeURI(t.pathname));return e?Object(l.jsx)(o.b,{}):Object(l.jsx)(o.a,{to:a})};var L=()=>{const{emailPasswordSignup:e}=m(),t=Object(o.q)(),[a,n]=(Object(o.o)(),Object(s.useState)({username:"",email:"",password:"",confirmPassword:""})),r=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,c=e=>{const{name:t,value:s}=e.target;n({...a,[t]:s})};return Object(l.jsxs)("form",{style:{display:"flex",flexDirection:"column",maxWidth:"300px",margin:"auto"},children:[Object(l.jsx)("h1",{children:"Signup"}),Object(l.jsx)(E.a,{label:"Username",type:"text",variant:"outlined",name:"username",value:a.username,onInput:c,style:{marginBottom:"1rem"}}),Object(l.jsx)(E.a,{label:"Email",type:"email",variant:"outlined",name:"email",value:a.email,onInput:c,style:{marginBottom:"1rem"}}),Object(l.jsx)(E.a,{label:"Password",type:"password",variant:"outlined",name:"password",value:a.password,onInput:c,style:{marginBottom:"1rem"}}),Object(l.jsx)(E.a,{label:"Confirm Password",type:"password",variant:"outlined",name:"confirmPassword",value:a.confirmPassword,onInput:c,style:{marginBottom:"1rem"}}),Object(l.jsx)(T.a,{variant:"contained",color:"primary",onClick:async s=>{if(s.preventDefault(),a.password===a.confirmPassword)if(r.test(a.email))try{await e(a.email,a.password,a.username)&&t("/Login")}catch(n){alert(n)}else alert("Please enter a valid email address.");else alert("Passwords do not match.")},children:"Signup"}),Object(l.jsx)("p",{style:{color:"#d32f2f",fontSize:"0.8rem",marginTop:"20px",textAlign:"center"},children:"Do not enter your actual credentials. Enter fake but memorable credentials. For example, email: admin@gmail.com, username=admin, password=admin. The above example credentials are already in use."})]})};var D=function(){return Object(l.jsx)(i.a,{children:Object(l.jsx)(j,{children:Object(l.jsxs)(o.e,{children:[Object(l.jsx)(o.c,{exact:!0,path:"/login",element:Object(l.jsx)(C,{})}),Object(l.jsx)(o.c,{exact:!0,path:"/signup",element:Object(l.jsx)(L,{})}),Object(l.jsx)(o.c,{element:Object(l.jsx)(P,{}),children:Object(l.jsx)(o.c,{exact:!0,path:"/",element:Object(l.jsx)(N,{})})})]})})})};var U=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,162)).then((t=>{let{getCLS:a,getFID:s,getFCP:n,getLCP:r,getTTFB:c}=t;a(e),s(e),n(e),r(e),c(e)}))};"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()}));c.a.createRoot(document.getElementById("root")).render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(D,{})})),U()},95:function(e,t,a){},97:function(e,t,a){}},[[102,1,2]]]);
//# sourceMappingURL=main.eff354e9.chunk.js.map